<!DOCTYPE html>
<!--**************************************-->
<!--* Generated from MathBook XML source *-->
<!--*    on 2017-03-27T15:33:05-07:00    *-->
<!--*                                    *-->
<!--*   http://mathbook.pugetsound.edu   *-->
<!--*                                    *-->
<!--**************************************-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Sage and Linear Algebra Worksheet</title>
<meta name="Keywords" content="Authored in MathBook XML">
<meta name="viewport" content="width=device-width,  initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<script type="text/javascript" src="https://sagecell.sagemath.org/static/jquery.min.js"></script><script type="text/javascript" src="https://sagecell.sagemath.org/embedded_sagecell.js"></script><script type="text/x-mathjax-config">
// contrib directory for accessibility menu, moot after v2.6+?
MathJax.Ajax.config.path["Contrib"] = "https://cdn.mathjax.org/mathjax/contrib";
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']],
    },
    TeX: {
        // [Contrib]accessibility menu moot after v2.6+?
        extensions: ["AMSmath.js", "AMSsymbols.js", "extpfeil.js", "autobold.js", "https://aimath.org/mathbook/mathjaxknowl.js", "[Contrib]/a11y/accessibility-menu.js", ],
        equationNumbers: { autoNumber: "none",
                           useLabelIds: true,
                           // JS comment, XML CDATA protect XHTML quality of file
                           // if removed in XSL, use entities
                           //<![CDATA[
                           formatID: function (n) {return String(n).replace(/[:'"<>&]/g,"")},
                           //]]>
                         },
        TagSide: "right",
        TagIndent: ".8em",
    },
    "HTML-CSS": {
        scale: 88,
    },
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full"></script><script>$(function () {
    // Make *any* div with class 'sagecell-sage' an executable Sage cell
    // Their results will be linked, only within language type
    sagecell.makeSagecell({inputLocation: 'div.sagecell-sage',
                           linked: true,
                           languages: ['sage'],
                           evalButtonText: 'Evaluate Sage Code'});
});
</script><link href="https://aimath.org/knowlstyle.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="https://aimath.org/knowl.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.sticky.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.espy.min.js"></script><script src="https://aimath.org/mathbook/js/Mathbook.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="https://aimath.org/mathbook/stylesheets/mathbook-3.css" rel="stylesheet" type="text/css">
<link href="https://aimath.org/mathbook/mathbook-add-on.css" rel="stylesheet" type="text/css">
</head>
<body class="mathbook-article has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div style="display:none;">\(
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="MR.html"><span class="title">Sage and Linear Algebra Worksheet</span><span class="subtitle">FCLA Section MR</span></a></h1>
<p class="byline">Robert Beezer</p>
</div>
</div></div>
<nav id="primary-navbar" class="navbar" style=""><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active">Contents</button><div class="tree-nav toolbar toolbar-divisor-3"><span class="threebuttons"><span class="previous-button button toolbar-item disabled">Prev</span><span class="up-button button disabled toolbar-item">Up</span><span class="next-button button toolbar-item disabled">Next</span></span></div>
<button class="sidebar-right-toggle-button button active">Annotations</button>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><span class="previous-button button toolbar-item disabled">Prev</span><span class="up-button button disabled toolbar-item">Up</span><span class="next-button button toolbar-item disabled">Next</span>
</div>
</div></nav></header><div class="page">
<aside id="sidebar-left" class="sidebar"><div class="sidebar-content">
<nav id="toc"><h2 class="link"><a href="MR.html#frontmatter-1" data-scroll="frontmatter-1"><span class="title">Front Matter</span></a></h2>
<h2 class="link"><a href="MR.html#section-1" data-scroll="section-1"><span class="codenumber">1</span><span class="title">A Linear Transformation and some Bases</span></a></h2>
<h2 class="link"><a href="MR.html#section-2" data-scroll="section-2"><span class="codenumber">2</span><span class="title">A Matrix Representation, Old Style</span></a></h2>
<h2 class="link"><a href="MR.html#section-3" data-scroll="section-3"><span class="codenumber">3</span><span class="title">A Matrix Representation, Sage Style</span></a></h2>
<h2 class="link"><a href="MR.html#section-4" data-scroll="section-4"><span class="codenumber">4</span><span class="title">Sneak Preview</span></a></h2></nav><div class="extras"><nav><a class="mathbook-link" href="https://mathbook.pugetsound.edu">Authored in MathBook XML</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://cdn.mathjax.org/mathjax/badge/badge.gif" border="0" alt="Powered by MathJax"></a></nav></div>
</div></aside><main class="main"><div id="content" class="mathbook-content"><section class="article" id="MR"><section class="frontmatter" id="frontmatter-1"><h1 class="heading">
<span class="title">Sage and Linear Algebra Worksheet</span><span class="subtitle">FCLA Section MR</span>
</h1>
<address class="contributors"><p>Robert Beezer<br>Department of Mathematics and Computer Science<br>University of Puget Sound</p></address>
<address class="contributors">Spring 2017</address>
<p></p></section><section class="section" id="section-1"><header title="Section 1 A Linear Transformation and some Bases"><h1 class="heading hide-type" alt="Section 1 A Linear Transformation and some Bases">
<span class="type">Section</span><span class="codenumber">1</span><span class="title">A Linear Transformation and some Bases</span>
</h1></header><p id="p-1">In this section we define a linear transformation from \(\mathbb{C}^6\) to \(\mathbb{C}^4\text{.}\)  The definition is a \(4\times 6\) matrix of rank \(4\) that we will use to multiply input vectors with a matrix-vector product.  It is not important if the linear transformation is injective and/or surjective.</p>
<div class="sagecell-sage" id="sage-1"><script type="text/x-sage">m, n = 4, 6
A = random_matrix(QQ, m, n, algorithm='echelonizable', rank=m, upper_bound=9)
A
</script></div>
<div class="sagecell-sage" id="sage-2"><script type="text/x-sage">T = linear_transformation(A, side='right')
T
</script></div>
<p id="p-2">And we construct two random bases, one for the domain and one for the codomain, extracted from the columns of unimodular matrices.</p>
<div class="sagecell-sage" id="sage-3"><script type="text/x-sage">Dmat = random_matrix(QQ, n, n, algorithm='unimodular', upper_bound=9)
D = Dmat.columns()
D
</script></div>
<div class="sagecell-sage" id="sage-4"><script type="text/x-sage">Cmat = random_matrix(QQ, m, m, algorithm='unimodular', upper_bound=9)
C = Cmat.columns()
C
</script></div></section><section class="section" id="section-2"><header title="Section 2 A Matrix Representation, Old Style"><h1 class="heading hide-type" alt="Section 2 A Matrix Representation, Old Style">
<span class="type">Section</span><span class="codenumber">2</span><span class="title">A Matrix Representation, Old Style</span>
</h1></header><p id="p-3">We will coordinatize the outputs of the linear transformation, for inputs from the basis of the domain, relative to the basis of the codomain, and pack them in a matrix.</p>
<p id="p-4">Outputs on the domain basis first.</p>
<div class="sagecell-sage" id="sage-5"><script type="text/x-sage">outputs = [T(b) for b in D]
outputs
</script></div>
<p id="p-5">We make a vector space for the codomain, with the desired basis.</p>
<div class="sagecell-sage" id="sage-6"><script type="text/x-sage">VC = (QQ^m).subspace_with_basis(C)
VC
</script></div>
<p id="p-6">Now, coordinate versions of the outputs.</p>
<div class="sagecell-sage" id="sage-7"><script type="text/x-sage">coord = [VC.coordinate_vector(t) for t in outputs]
coord
</script></div>
<p id="p-7">And then we pack them into a matrix.</p>
<div class="sagecell-sage" id="sage-8"><script type="text/x-sage">rep = column_matrix(coord)
rep
</script></div>
<p id="p-8">Does the representation “work” as it should?  We need a vector space for the domain before we can check.</p>
<div class="sagecell-sage" id="sage-9"><script type="text/x-sage">VD = (QQ^n).subspace_with_basis(D)
VD
</script></div>
<p id="p-9">OK, coordinatize input, multiply by representation matrix, un-coordinatize (linear combination).  This is the fundamental Theorem FTMR at work.</p>
<div class="sagecell-sage" id="sage-10"><script type="text/x-sage">u = random_vector(QQ, 6)
out = VC.linear_combination_of_basis(rep*VD.coordinate_vector(u))
u, out, T(u) ==  out
</script></div>
<p id="p-10">Nice.</p></section><section class="section" id="section-3"><header title="Section 3 A Matrix Representation, Sage Style"><h1 class="heading hide-type" alt="Section 3 A Matrix Representation, Sage Style">
<span class="type">Section</span><span class="codenumber">3</span><span class="title">A Matrix Representation, Sage Style</span>
</h1></header><p id="p-11">Now we do it Sage style.  The matrix of the linear transformation first, as we like to see it.</p>
<div class="sagecell-sage" id="sage-11"><script type="text/x-sage">T.matrix(side='right')
</script></div>
<p id="p-12">Now we replace the domain and codomain with new vector spaces, carrying different bases.  We are not really “restricting” the domain and codomain, we are replacing them by the same vector space, but each has a different basis.</p>
<div class="sagecell-sage" id="sage-12"><script type="text/x-sage">S = T.restrict_domain(VD).restrict_codomain(VC)
rep2 = S.matrix(side='right')
rep2
</script></div>
<p id="p-13">Bingo!  This is representation we found above.  A one-liner in Sage.</p>
<div class="sagecell-sage" id="sage-13"><script type="text/x-sage">rep2 == rep
</script></div></section><section class="section" id="section-4"><header title="Section 4 Sneak Preview"><h1 class="heading hide-type" alt="Section 4 Sneak Preview">
<span class="type">Section</span><span class="codenumber">4</span><span class="title">Sneak Preview</span>
</h1></header><p id="p-14">Ponder the following computation — matrix representations and nonsingular matrices with columns from the two bases.</p>
<div class="sagecell-sage" id="sage-14"><script type="text/x-sage">S.matrix(side='right') - Cmat.inverse()*T.matrix(side='right')*Dmat
</script></div>
<p id="p-15">Notice how Sage is conflicted about if <tt class="code-inline tex2jax_ignore">S</tt> and <tt class="code-inline tex2jax_ignore">T</tt> are equal or not.</p>
<div class="sagecell-sage" id="sage-15"><script type="text/x-sage">S == T
</script></div>
<div class="sagecell-sage" id="sage-16"><script type="text/x-sage">S.is_equal_function(T)
</script></div></section></section></div></main>
</div>
</body>
</html>
